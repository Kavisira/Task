<div *ngIf="schema">
      <h2>{{ schema.title }}</h2>

      <form [formGroup]="form" (ngSubmit)="onSubmit()">
        <ng-container *ngFor="let field of schema.fields">
          <ng-container *ngIf="isFieldVisible(field)">
            <app-dynamic-field [field]="field" [group]="form"></app-dynamic-field>
          </ng-container>
        </ng-container>

        <button type="submit" [disabled]="form.invalid">Submit</button>
      </form>

      <pre *ngIf="submitted">{{ submittedData | json }}</pre>
    </div>